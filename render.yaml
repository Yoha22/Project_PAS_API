# Configuraci칩n para Render
# NOTA: Si despliegas manualmente, este archivo NO se aplicar치 autom치ticamente
# Debes configurar las variables de entorno manualmente en el panel de Render

services:
  - type: web
    name: laravel-api
    runtime: docker
    plan: starter
    dockerfilePath: ./Dockerfile
    dockerContext: .
    envVars:
      - key: APP_NAME
        value: Laravel API
      - key: APP_ENV
        value: production
      - key: APP_DEBUG
        value: false
      - key: APP_URL
        sync: false
      - key: LOG_CHANNEL
        value: stderr
      - key: LOG_LEVEL
        value: error
      - key: DB_CONNECTION
        value: pgsql
      # IMPORTANTE: Si despliegas manualmente, configura estas variables en Render:
      # - DB_HOST: dpg-d4du80mmcj7s73caquso-a
      # - DB_PORT: 5432
      # - DB_DATABASE: access_db_93sr
      # - DB_USERNAME: access_db_93sr_user
      # - DB_PASSWORD: (tu contrase침a de la base de datos)
      - key: DB_HOST
        sync: false
      - key: DB_PORT
        sync: false
      - key: DB_DATABASE
        sync: false
      - key: DB_USERNAME
        sync: false
      - key: DB_PASSWORD
        sync: false
      - key: APP_KEY
        generateValue: true
      - key: FRONTEND_URL
        sync: false
        # IMPORTANTE: Configura esta variable en Render > Environment
        # Ejemplo: https://sistema-acceso-frontend.onrender.com
    healthCheckPath: /api/auth/check-admin

